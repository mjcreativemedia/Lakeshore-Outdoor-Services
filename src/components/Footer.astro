---
import { BUSINESS } from "../data/business";
import { formatPhoneForDisplay } from "../utils/phone";

const { address, areasServed } = BUSINESS;
const phoneDisplay = formatPhoneForDisplay(BUSINESS.phone);
const primaryLocation = `${address.city}, ${address.region} • ${address.country}`;
const featuredAreas = areasServed.slice(0, 6);
---
<footer class="site-footer">
  <div class="container">
    <div>
      <h2>{BUSINESS.name}</h2>
      <p>
        <a href={`tel:${BUSINESS.phone}`}>{phoneDisplay}</a>
        <br />
        <a href={`mailto:${BUSINESS.email}`}>{BUSINESS.email}</a>
      </p>
      <p class="location">{primaryLocation}</p>
      <p class="service-areas">
        <span>Serving:</span>
        <span class="area-list">{featuredAreas.join(", ")}</span>
        <span aria-hidden="true">•</span>
        <a href="/locations/" class="view-all">View all areas</a>
      </p>
    </div>
    <p class="copyright">&copy; {new Date().getFullYear()} {BUSINESS.name}. All rights reserved.</p>
  </div>
</footer>

<style>
  .site-footer {
    background: #1b263b;
    color: #e0e1dd;
    padding: 2rem 1rem;
  }

  .container {
    margin: 0 auto;
    max-width: 960px;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  a {
    color: inherit;
  }

  .location {
    margin: 0;
    font-weight: 600;
  }

  .service-areas {
    margin: 0.5rem 0 0;
    display: flex;
    flex-wrap: wrap;
    gap: 0.35rem;
    align-items: center;
  }

  .service-areas span {
    font-weight: 600;
  }

  .service-areas .area-list {
    font-weight: 400;
  }

  .service-areas span[aria-hidden="true"] {
    font-weight: 400;
  }

  .view-all {
    text-decoration: none;
    font-weight: 600;
    color: #cbd5f5;
  }

  .view-all:hover,
  .view-all:focus {
    text-decoration: underline;
  }

  .copyright {
    font-size: 0.875rem;
    opacity: 0.75;
  }
</style>
